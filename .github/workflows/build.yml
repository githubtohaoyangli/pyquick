name: CI Build(macos)


on:
  workflow_run:
    workflows: [ Staging, Lab ]
    types:
      - completed
  push:




jobs:
  build-and-deploy:
    runs-on: macos-latest
    steps:
    - name: check
      uses: actions/checkout@v4
    - name: install homebrew
      run: |
        /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
    - name: install from requirements.txt
      run: |
        python -m pip install --upgrade pip
        pip install -r requirements.txt
    - name: build python_tool for macos
      run: |
        bash ./python_tool/build.sh
